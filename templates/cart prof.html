<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>José Rizal University - Cart</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cart.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile-modal.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="logo-container">
            <img src="{{ url_for('static', filename='images/JRULOGO.png') }}" alt="José Rizal University Logo" class="logo">
        </div>
        <div class="user-profile">
            <span>{{name}}</span>
            <button class="profile" id="profileButton">
                <img src="{{ url_for('static', filename='images/sample.jpg') }}" alt="User Profile" class="user-img">
            </button>
        </div>
    </header>

    <!-- Main Content Section -->
    <main>
        <!-- Title Bar -->
        <div class="title-bar">
            <h1 id="page-title"><span class="pipe">|</span>Cart</h1>
        </div>
        
        <div class="column">
            <!-- Cart Content -->
            <div class="cart-container">
                <div class="cart-grid">
                    <!-- Left Panel: Item Details -->
                    <div class="cart-details">
                        <div class="cart-header">ITEM DETAILS</div>
                        <div class="cart-items">
                            <!-- Item 1 -->
                            <div class="cart-item">
                                <div class="item-image">
                                    <img src="{{ url_for('static', filename='images/breadboard.png') }}" alt="Breadboard">
                                </div>
                                <div class="item-info">
                                    <div class="item-name">Breadboard</div>
                                </div>
                                <div class="item-quantity">
                                    <button class="quantity-btn decrease">
                                        <i class="fas fa-minus-circle"></i>
                                    </button>
                                    <span class="quantity-value">1</span>
                                    <button class="quantity-btn increase">
                                        <i class="fas fa-plus-circle"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Item 2 -->
                            <div class="cart-item">
                                <div class="item-image">
                                    <img src="{{ url_for('static', filename='images/diode.png') }}" alt="Ohmmeter">
                                </div>
                                <div class="item-info">
                                    <div class="item-name">Ohmmeter</div>
                                </div>
                                <div class="item-quantity">
                                    <button class="quantity-btn decrease">
                                        <i class="fas fa-minus-circle"></i>
                                    </button>
                                    <span class="quantity-value">1</span>
                                    <button class="quantity-btn increase">
                                        <i class="fas fa-plus-circle"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Item 3 -->
                            <div class="cart-item">
                                <div class="item-image">
                                    <img src="{{ url_for('static', filename='images/resistor.png') }}" alt="Resistor">
                                </div>
                                <div class="item-info">
                                    <div class="item-name">Resistor/s</div>
                                </div>
                                <div class="item-quantity">
                                    <button class="quantity-btn decrease">
                                        <i class="fas fa-minus-circle"></i>
                                    </button>
                                    <span class="quantity-value">4</span>
                                    <button class="quantity-btn increase">
                                        <i class="fas fa-plus-circle"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Panel: Summary -->
                    <div class="cart-summary">
                        <div class="summary-header">Summary</div>
                        <div class="summary-content">
                            <div class="summary-items">
                                <div class="summary-item">
                                    <span class="item-label">Item</span>
                                    <span class="item-count">Breadboard</span>
                                    <span class="item-quantity">x1</span>
                                </div>
                                <div class="summary-item">
                                    <span class="item-label"></span>
                                    <span class="item-count">Ohmmeter</span>
                                    <span class="item-quantity">x1</span>
                                </div>
                                <div class="summary-item">
                                    <span class="item-label"></span>
                                    <span class="item-count">Resistor/s</span>
                                    <span class="item-quantity">x4</span>
                                </div>
                            </div>
                            
                            <div class="summary-divider"></div>
                            
                            <div class="total-items">
                                <span class="total-label">Total Items:</span>
                                <span class="total-count">6</span>
                            </div>
                            
                            <div class="action-options">
                                <div class="action-option">
                                    <input type="radio" id="reserve" name="action" value="reserve">
                                    <label for="reserve">Reserve</label>
                                </div>
                                <div class="action-option">
                                    <input type="radio" id="borrow" name="action" value="borrow">
                                    <label for="borrow">Borrow</label>
                                </div>
                            </div>
                            
                            <div class="cart-actions">
                                <button class="confirm-btn">Confirm</button>
                                <button class="cancel-btn">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Side Navigation -->
    <nav class="side-nav">
        <a href="{{ url_for('dashboard_prof') }}" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-home"></i>
            </div>
            <span>Home</span>
        </a>
        <a href="{{ url_for('Equipment_prof') }}" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-microchip"></i>
            </div>
            <span>Equipment</span>
        </a>
        <a href="{{ url_for('cart_prof') }}" class="nav-item active">
            <div class="nav-icon">
                <i class="fas fa-file-alt"></i>
            </div>
            <span>Request</span>
        </a>
        <a href="{{ url_for('borrowed_prof') }}" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-handshake"></i>
            </div>
            <span>Borrowed</span>
        </a>
        <a href="{{ url_for('history_prof') }}" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-history"></i>
            </div>
            <span>History</span>
        </a>
        <a href="{{ url_for('notification_prof') }}" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-bell"></i>
            </div>
            <span>Notification</span>
        </a>
        <a href="#" class="nav-item">
            <div class="nav-icon">
                <i class="fas fa-question-circle"></i>
            </div>
            <span>Help</span>
        </a>
    </nav>

    <!-- Back Button -->
    <div class="back-button">
        <a href="{{ url_for('equipment') }}">
            <i class="fas fa-arrow-circle-left"></i>
        </a>
    </div>

    <!-- Calendar Overlay for Reservation -->
    <div class="calendar-overlay" id="calendarOverlay">
        <div class="calendar-modal">
            <div class="calendar-header">
                <h2>Select Reservation Date & Time</h2>
                <button class="close-calendar" id="closeCalendar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="calendar-content">
                <div class="calendar-container">
                    <div class="calendar-nav">
                        <button class="prev-month"><i class="fas fa-chevron-left"></i></button>
                        <div class="current-month">April 2025</div>
                        <button class="next-month"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="weekdays">
                        <div>Sun</div>
                        <div>Mon</div>
                        <div>Tue</div>
                        <div>Wed</div>
                        <div>Thu</div>
                        <div>Fri</div>
                        <div>Sat</div>
                    </div>
                    <div class="calendar-days">
                        <!-- This will be populated with JavaScript -->
                        <div class="prev-month-day">30</div>
                        <div class="prev-month-day">31</div>
                        <div>1</div>
                        <div>2</div>
                        <div>3</div>
                        <div>4</div>
                        <div>5</div>
                        <div>6</div>
                        <div>7</div>
                        <div>8</div>
                        <div>9</div>
                        <div>10</div>
                        <div>11</div>
                        <div>12</div>
                        <div>13</div>
                        <div>14</div>
                        <div>15</div>
                        <div>16</div>
                        <div>17</div>
                        <div>18</div>
                        <div>19</div>
                        <div>20</div>
                        <div>21</div>
                        <div>22</div>
                        <div>23</div>
                        <div>24</div>
                        <div class="selected-day">25</div>
                        <div>26</div>
                        <div>27</div>
                        <div>28</div>
                        <div>29</div>
                        <div>30</div>
                        <div class="next-month-day">1</div>
                        <div class="next-month-day">2</div>
                        <div class="next-month-day">3</div>
                    </div>
                </div>
                
                <div class="time-selector">
                    <h3>Select Time</h3>
                    <div class="time-inputs">
                        <div class="time-group">
                            <label for="startTime">Start Time:</label>
                            <select id="startTime" class="time-select">
                                <option value="8:00">8:00 AM</option>
                                <option value="9:00" selected>9:00 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="13:00">1:00 PM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="17:00">5:00 PM</option>
                            </select>
                        </div>
                        <div class="time-group">
                            <label for="endTime">End Time:</label>
                            <select id="endTime" class="time-select">
                                <option value="9:00">9:00 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00" selected>11:00 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="13:00">1:00 PM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="17:00">5:00 PM</option>
                                <option value="18:00">6:00 PM</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="reservation-summary">
                    <div class="reservation-details">
                        <p><strong>Selected Date:</strong> April 25, 2025</p>
                        <p><strong>Time:</strong> 9:00 AM - 11:00 AM</p>
                    </div>
                    <button class="apply-reservation">Apply</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal-overlay" id="profileModal">
        <div class="profile-modal">
            <div class="profile-picture">
                <img src="{{ url_for('static', filename='images/sample.jpg') }}" alt="{{ name }}">
            </div>
            <!-- Correctly display name and email -->
            <div class="profile-name">{{ name }}</div>
            <div class="profile-email">{{ email }}</div>
            <button class="logout-btn">Logout</button>
            <div class="divider"></div>
            <div class="student-info">
                <div class="info-label">EMPLOYEE ID:</div>
                <div class="info-value">{{ user_id }}</div>
                
                <div class="info-label">DEPARTMENT:</div>
                <div class="info-value">{{ department }}</div>
                
                <div class="info-label">Course Subject Code:</div>
                <div class="info-value">{{ course_code }} - {{ section }}</div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/Profile.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cart.js') }}"></script>
    <script>
        // Calendar functionality
        document.addEventListener('DOMContentLoaded', function() {
            const reserveRadio = document.getElementById('reserve');
            const calendarOverlay = document.getElementById('calendarOverlay');
            const closeCalendar = document.getElementById('closeCalendar');
            const applyReservation = document.querySelector('.apply-reservation');
            const calendarDays = document.querySelectorAll('.calendar-days div');
            
            // Show calendar when Reserve is selected
            reserveRadio.addEventListener('change', function() {
                if (this.checked) {
                    calendarOverlay.classList.add('active');
                }
            });
            
            // Close calendar
            closeCalendar.addEventListener('click', function() {
                calendarOverlay.classList.remove('active');
            });
            
            // Apply button
            applyReservation.addEventListener('click', function() {
                calendarOverlay.classList.remove('active');
                // Here you would update the reservation details
            });
            
            // Day selection
            calendarDays.forEach(day => {
                if (!day.classList.contains('prev-month-day') && !day.classList.contains('next-month-day')) {
                    day.addEventListener('click', function() {
                        // Remove selected class from all days
                        calendarDays.forEach(d => d.classList.remove('selected-day'));
                        // Add selected class to clicked day
                        this.classList.add('selected-day');
                        
                        // Update the reservation details text
                        const selectedDate = document.querySelector('.reservation-details p:first-child');
                        selectedDate.innerHTML = '<strong>Selected Date:</strong> April ' + this.textContent + ', 2025';
                    });
                }
            });
            
            // Time selection
            const startTime = document.getElementById('startTime');
            const endTime = document.getElementById('endTime');
            const timeDisplay = document.querySelector('.reservation-details p:last-child');
            
            function updateTimeDisplay() {
                const start = startTime.options[startTime.selectedIndex].text;
                const end = endTime.options[endTime.selectedIndex].text;
                timeDisplay.innerHTML = '<strong>Time:</strong> ' + start + ' - ' + end;
            }
            
            startTime.addEventListener('change', updateTimeDisplay);
            endTime.addEventListener('change', updateTimeDisplay);
        });
    </script>
</body>
</html>